<!DOCTYPE html>
<html>

<body>
  <script>
    function serachRepo (query) {
      const url = "https://github.com/search?q=" + query
      return fetch(url)
    }

    // Promiseでの書き方
    // serachRepo("test1")
    //   .then(response => console.log(response))
    //   .then(_ => serachRepo("test2"))
    //   .then(_ => serachRepo("test3"))
    //   .then(_ => serachRepo("test4"));


    // async/awaitでの書き方
    // async function run() {
    //   const result1 = await serachRepo("test1");
    //   console.log(result1)
    //   const result2 = await serachRepo("test2");
    //   console.log(result2)
    //   const result3 = await serachRepo("test3");
    //   console.log(result3)
    //   const result4 = await serachRepo("test4");
    //   console.log(result4)
    // }

    // 並行で処理を走らせる
    async function run2() {
      const result1 = await serachRepo("test1");
      const result2 = await serachRepo("test2");
      // async/awaitも中身はPromiseなのでPromise.allが使える
      const reslut6 = Promise.all([result1, result2])
      const response = await reslut6

      const result3 = await serachRepo("test3");
      console.log(result3)
      const result4 = await serachRepo("test4");
      console.log(result4)
    }
    run2()
  </script>
</body>

</html>
